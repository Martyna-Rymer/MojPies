import{e as i,o as d,c as p,a as e,l as m,v as g,t as k,g as f,F as _,n as c}from"./index-dcd09675.js";import{_ as b}from"./banner-7aaa121e.js";import{l as y,j as I,a as o,G as h,k as U,J as j,b as x,d as B}from"./index-ce0dfd1e.js";const N=e("img",{src:b,alt:"Banner",class:"banner-image mb-3"},null,-1),V=e("h1",null,"Zaloguj się do swojego konta",-1),G={key:0},P={__name:"SignInView",setup(A){const n=i(""),r=i(""),s=i(),v=()=>{y(I(),n.value,r.value).then(l=>{console.log("Successfully signed in!"),console.log(o.currentUser),c.push({name:"profile",params:{userId:o.currentUser.uid}})}).catch(l=>{switch(console.log(l.code),l.code){case"auth/invalid-email":s.value="Nieprawidłowy email";break;case"auth/user-not-found":s.value="Brak użytkownika o podanym adresie email";break;case"auth/wrong-password":s.value="Nieprawidłowe hasło";break;default:s.value="Nieprawidłowy email lub hasło";break}alert(s.value)})},w=()=>{const l=new h;U(o,l).then(a=>{h.credentialFromResult(a).accessToken,a.user,console.log(o.currentUser),j(x(B,"users",o.currentUser.uid)).then(u=>{u.exists()?c.push({name:"profile",params:{userId:o.currentUser.uid}}):c.push({name:"editprofile",params:{userId:o.currentUser.uid}})}).catch(u=>{console.log(u)})}).catch(a=>{alert(a.message)})};return(l,a)=>(d(),p(_,null,[N,V,e("p",null,[m(e("input",{type:"text",placeholder:"Email","onUpdate:modelValue":a[0]||(a[0]=t=>n.value=t)},null,512),[[g,n.value]])]),e("p",null,[m(e("input",{type:"password",placeholder:"Hasło","onUpdate:modelValue":a[1]||(a[1]=t=>r.value=t)},null,512),[[g,r.value]])]),s.value?(d(),p("p",G,k(s.value),1)):f("",!0),e("p",null,[e("button",{onClick:v},"Zaloguj się")]),e("p",null,[e("button",{onClick:w},"Zaloguj się przy pomocy swojego konta Google")])],64))}};export{P as default};
