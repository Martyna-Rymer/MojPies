import{a as l,b,d as p,e as w,h}from"./index-ce0dfd1e.js";import{_ as T,s as x,u as N,e as V,j as y,r as k,o as B,c as F,a as o,k as I,l as m,v as u,b as R,F as C,p as S,h as U}from"./index-a94c7354.js";import{N as g}from"./NavBarComponent-e8f1eab3.js";import{_ as M}from"./add_h-f72fec53.js";const j={components:{NavBarComponent:g},setup(){const i=x(),s=N(),t=V({topic:"",description:""});async function e(){if(l.currentUser){const r=l.currentUser.uid,a=b(p,"users",r),_={topic:t.value.topic,description:t.value.description,date:new Date,authorRef:a,answers:[]},f=`forum/${s.params.sectionKey}/threads`,v=w(p,f);await h(v,_);var d=new Audio("/MojPies/bark.mp3");d.play(),t.value.topic="",t.value.description="",i.back()}}const n=y(()=>t.value.topic&&t.value.description);return{newTopic:t,submitTopic:e,isFormValid:n}}},c=i=>(S("data-v-65a92f50"),i=i(),U(),i),q={class:"mb-3 row"},D=c(()=>o("label",{for:"topic",class:"form-label col-md-2"},"Temat",-1)),A={class:"col-md-12"},E={class:"mb-3 row"},K=c(()=>o("label",{for:"description",class:"form-label col-md-2"},"Treść",-1)),P={class:"col-md-12"},z=["disabled"],G=c(()=>o("img",{src:M},null,-1)),H=[G];function J(i,s,t,e,n,d){const r=k("NavBarComponent");return B(),F(C,null,[o("div",null,[o("form",{onSubmit:s[2]||(s[2]=I((...a)=>e.submitTopic&&e.submitTopic(...a),["prevent"]))},[o("div",q,[D,o("div",A,[m(o("input",{type:"text",class:"form-control",id:"topic","onUpdate:modelValue":s[0]||(s[0]=a=>e.newTopic.topic=a),required:""},null,512),[[u,e.newTopic.topic]])])]),o("div",E,[K,o("div",P,[m(o("textarea",{class:"form-control w-100",id:"description","onUpdate:modelValue":s[1]||(s[1]=a=>e.newTopic.description=a),rows:"6",required:""},null,512),[[u,e.newTopic.description]])])]),o("button",{class:"mt-3 d-block mx-auto",type:"submit",disabled:!e.isFormValid},H,8,z)],32)]),R(r)],64)}const X=T(j,[["render",J],["__scopeId","data-v-65a92f50"]]);export{X as default};
