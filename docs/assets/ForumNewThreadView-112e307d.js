import{e as p,a as w,d as l,c as b,h}from"./index-3872b343.js";import{_ as T,s as y,u as x,f as N,n as V,r as B,o as F,c as k,a as o,i as I,j as u,v as m,b as R,F as C,p as S,m as U}from"./index-f2c3174c.js";import{N as g}from"./NavBarComponent-597ec65a.js";import{_ as M}from"./add_h-f72fec53.js";const j={components:{NavBarComponent:g},setup(){const a=y(),t=x(),s=N({topic:"",description:""});async function e(){if(p.currentUser){const r=p.currentUser.uid,i=w(l,"users",r),_={topic:s.value.topic,description:s.value.description,date:new Date,authorRef:i,answers:[]},f=`forum/${t.params.sectionKey}/threads`,v=b(l,f);await h(v,_);var d=new Audio("/MojPies/bark.mp3");d.play(),s.value.topic="",s.value.description="",a.back()}}const c=V(()=>s.value.topic&&s.value.description);return{newTopic:s,submitTopic:e,isFormValid:c}}},n=a=>(S("data-v-00584739"),a=a(),U(),a),q={class:"mb-3",style:{width:"100%"}},D=n(()=>o("label",{for:"topic",class:"form-label"},"Temat",-1)),A={class:"mb-3",style:{width:"100%"}},E=n(()=>o("label",{for:"description",class:"form-label"},"Treść",-1)),K=["disabled"],P=n(()=>o("img",{src:M},null,-1)),z=[P];function G(a,t,s,e,c,d){const r=B("NavBarComponent");return F(),k(C,null,[o("div",null,[o("form",{onSubmit:t[2]||(t[2]=I((...i)=>e.submitTopic&&e.submitTopic(...i),["prevent"]))},[o("div",q,[D,u(o("input",{type:"text",class:"form-control",id:"topic","onUpdate:modelValue":t[0]||(t[0]=i=>e.newTopic.topic=i),required:""},null,512),[[m,e.newTopic.topic]])]),o("div",A,[E,u(o("textarea",{class:"form-control w-100",id:"description","onUpdate:modelValue":t[1]||(t[1]=i=>e.newTopic.description=i),rows:"6",required:""},null,512),[[m,e.newTopic.description]])]),o("button",{class:"mt-3 d-block mx-auto",type:"submit",disabled:!e.isFormValid},z,8,K)],32)]),R(r)],64)}const Q=T(j,[["render",G],["__scopeId","data-v-00584739"]]);export{Q as default};
